# Nextjs auth prototype

## Features
- [x] Login from login page
- [ ] Register from register page
- [x] Logout with logout button
- [x] Restrict auth pages (and redirect to login)
- [x] Restrict pages that require user to be logged out (for example login page)
- [x] Show auth pages in nav menu when logged in
- [x] Store tokens in cookies
- [x] Logout by clearing cookies
- [ ] Automatically refresh expired access tokens (PARTIAL SUCCESS. CAN ONLY GET TO WORK ON INITIAL PAGE LOAD.)

## Setup
Copy `.env.example` to `.env` and configure environment variables.

- `API_DOMAIN`: Whatever domain Laravel is running on.
- `AUTH_CLIENT_ID`, `AUTH_CLIENT_SECRET:` Generated by running `php artisan passport:client --password` in the Laravel folder.
- `CLIENT_DOMAIN:` Whatever domain nextjs is running on.

## Run
```
$ npm run dev
```